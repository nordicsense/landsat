
x = (0:99)/100 - 0.1


L5 = data.frame(
    band1=c(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58031,1244027,4822087,2207530,907531,496040,314053,211062,160551,137006,132668,128279,130696,131343,138103,142270,141468,151324,151970,149766,150639,155053,160922,161467,176877,182713,186612,197549,195539,191242,174855,165608,150176,139389,136051,133076,131753,129779,127660,123272,116254,115974,114099,527636,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),
    band2=c(0,0,0,0,0,0,0,0,0,0,0,0,0,0,11761,715261,398373,4244827,2507940,981293,861767,303574,278099,137466,132081,178308,105661,167210,115602,118247,157966,123376,191961,122619,119500,197119,127152,190414,144189,150158,215040,158111,161524,237730,132118,213204,136779,123093,169953,113245,157903,93079,103067,159384,97487,144960,97388,97231,122681,86054,125050,68969,56299,71629,32955,26940,8990,4120,2217,563,274,32,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),
    band3=c(0,0,0,0,0,0,0,0,0,1,0,1,23733,732966,908242,3142537,1765778,1795014,924244,544149,302538,147026,187801,159076,138015,138678,91742,125798,138775,145014,139697,150206,96009,146687,154631,155002,158886,110639,167324,166253,183848,183706,121811,189432,175640,161698,161460,145335,93618,138064,127804,119812,128287,82649,117832,122486,115696,112782,76795,107294,105204,97620,77688,69946,37993,40389,25676,13467,5519,1890,1347,536,176,34,3,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),
    band4=c(0,0,0,0,0,0,0,0,0,0,2,680,141823,890295,113078,89035,73390,124404,78375,81421,130991,105432,120453,210936,190480,228798,432805,386995,485629,917868,664737,812484,1279783,808342,733041,981617,524956,430007,580021,334536,291280,395837,245498,220238,271848,179247,167559,225602,137550,140852,189871,112264,116931,118749,169032,107351,112887,160209,93426,90352,140122,82524,67454,89611,43852,31613,26790,9066,4636,3418,1038,560,260,47,10,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),
    band5=c(0,0,0,0,0,0,0,0,0,22378,711099,304685,150772,83658,105827,81436,113507,95970,105651,201386,250967,528840,625451,1078202,1061168,1562790,1039611,853010,858596,524071,536674,317607,337772,210787,211940,273055,210390,276353,206804,299554,217999,223583,286085,201447,276124,190868,262990,193561,180769,221422,139983,153140,77596,70357,29189,16221,10773,3696,2423,889,527,177,115,30,13,9,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),
    band7=c(0,0,0,0,0,0,0,0,0,177996,728611,303866,124592,298133,643081,1619449,1466848,1819450,887181,991546,507900,382889,409395,249293,336951,207167,325995,232568,379703,248423,471075,361166,546273,396409,586085,343328,406573,198312,191201,64205,43324,29979,8950,6598,2427,1765,465,420,155,132,59,43,13,5,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0))

L7 = data.frame(
    band1=c(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,111,500139,4891468,6589083,2410427,1013411,369792,134556,49029,13573,6298,3459,2518,2407,1999,1394,1197,1237,825,785,619,564,603,417,387,382,330,340,275,232,206,220,226,187,158,125,152,109,91,92,94,483,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),
    band2=c(0,0,0,0,0,0,0,0,0,0,0,0,0,2245,898902,459872,3784996,6168286,2443299,1363432,446619,250229,105318,33361,16047,6345,2786,2671,2096,1373,1500,1050,1118,920,781,1003,601,442,508,337,450,374,260,306,263,176,231,231,137,174,139,138,127,89,98,88,69,81,53,59,45,30,42,203,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),
    band3=c(0,0,0,0,0,0,0,0,0,0,0,312,576313,899562,3298452,4387738,3003503,1877718,1026196,408414,260448,133460,64032,25601,11080,5595,3489,2440,1531,1600,1368,1182,1036,840,741,692,589,438,460,482,695,402,307,310,284,302,164,192,208,199,159,147,137,135,125,69,91,87,90,83,502,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),
    band4=c(0,0,0,0,0,0,0,0,0,0,73,429680,403777,244986,79207,54920,62797,55022,89229,64981,64254,87778,73769,85980,151064,163231,236345,510447,619902,918177,1850488,1845951,1928065,2189042,1202728,861068,756624,356629,235383,184191,76484,44381,30854,12069,7220,5943,3043,2326,2311,1429,1221,1394,782,716,705,407,345,376,236,206,221,181,149,206,147,131,122,94,70,66,52,50,53,29,28,27,17,22,20,15,17,19,4,24,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),
    band5=c(0,0,0,0,0,0,0,0,1,2272,791482,274675,138793,59118,63524,45644,66514,58478,107382,125719,303859,394783,834762,914609,1598351,1444896,2069644,1436459,1728621,1181261,1268554,595226,341302,82230,36518,10146,5735,2294,2104,1293,1538,1011,1221,790,959,663,836,580,676,475,547,404,446,305,398,248,336,223,225,146,219,122,153,130,154,91,111,84,79,50,73,46,66,40,48,34,48,27,31,21,97,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),
    band7=c(0,0,0,0,0,0,0,0,17,56610,961808,263680,154466,195775,924435,2450494,2549617,2815333,2077988,1219241,1163632,637529,230045,147307,64667,33018,14640,12364,7790,3383,2874,2021,1127,1244,1068,850,622,687,615,442,492,438,341,394,360,223,288,230,214,152,179,190,100,130,114,93,94,84,56,63,73,48,36,40,35,20,34,23,7,16,8,12,5,5,5,5,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0))

L8 = data.frame(
    band1=c(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13,551898,5876003,5608168,1608589,755782,509619,343213,207516,122830,65780,36685,25997,20868,17895,15913,13939,12541,11618,10263,9388,8805,8190,7632,7479,6897,6568,6066,5852,5462,5321,5152,4700,4513,4385,4191,4038,3828,3553,3427,3369,3256,3001,2934,2922,2674,2633,2560,2517,2305,2250,2263,2090,2148,2035,2066,1947,1861,1802,1725,1626,1596,1686,1676,1658,1639,1495,1311,1007,903,903,820,674,627,579,514,474,389,299,237,221,181,171,109),
    band2=c(0,0,0,0,0,0,0,0,0,0,1,0,0,134,1069753,334011,2533473,6733196,2423912,980162,587476,385748,253757,168206,111394,70907,42130,26818,19665,16747,14909,12986,11795,10618,9685,9113,8315,7867,7432,6997,6566,6356,5966,5525,5264,5104,4848,4635,4341,4300,4029,3948,3606,3475,3460,3325,3059,2894,2902,2806,2716,2611,2468,2493,2295,2300,2173,2053,2068,2069,2015,2024,1843,1787,1740,1668,1643,1565,1590,1634,1529,1556,1504,1396,1088,933,834,732,788,677,592,582,509,463,458,386,292,234,214,215),
    band3=c(0,0,0,0,0,0,0,0,0,0,1,9,900198,482482,4108898,3708688,2361352,1494601,866848,561601,396632,275614,193063,135591,96318,64898,42023,27999,20266,16265,14284,12874,11498,10505,9546,8886,8083,7592,7329,6843,6458,6094,5800,5655,5410,5161,4842,4587,4320,4271,4030,3857,3767,3501,3433,3302,3160,3166,3027,2816,2680,2608,2556,2387,2439,2267,2241,2195,2039,2069,2007,1971,1860,1972,1899,1780,1745,1587,1579,1519,1516,1599,1504,1537,1501,1457,1251,1157,961,839,810,712,700,647,562,573,505,519,426,387),
    band4=c(0,0,0,0,0,0,0,0,4,121,3466,1107962,102975,42157,35354,32369,30872,31462,35139,42288,50815,62103,79223,99801,128901,181133,301544,530121,885183,1298821,1647017,1816438,1748313,1502936,1168370,850061,594654,413725,294100,212539,153051,110239,77665,55709,40047,29750,23548,18975,16525,14294,12547,10868,9438,8101,6931,6018,5443,4918,4511,4034,3915,3592,3306,3200,2999,2872,2726,2583,2311,2290,2156,2258,2059,2050,2025,1817,1611,1426,1384,1168,1082,918,835,833,767,731,666,565,535,378,368,335,298,295,207,166,163,136,123,85),
    band5=c(0,0,0,0,0,0,0,0,6,821,1145919,111429,64495,53454,49769,51627,55508,66097,106478,213820,412538,724910,1099891,1426596,1551840,1450436,1291415,1187088,1092976,965497,819148,665711,507875,363689,237529,145971,79107,33896,11456,3696,1694,1087,814,642,573,440,369,350,310,248,236,236,210,161,149,165,152,123,109,109,97,76,73,78,58,62,57,59,41,49,38,40,41,34,21,33,27,27,15,22,27,24,12,19,12,14,8,7,9,15,4,9,4,11,4,5,2,1,0,0),
    band7=c(0,0,0,0,0,0,0,0,0,277,1218850,121596,94101,118867,488649,1726119,2634655,2268297,1792069,1548733,1306560,965138,656392,429653,260618,143984,77183,50992,35594,21749,12683,7611,4633,2789,1892,1508,1147,919,864,766,774,625,586,483,417,326,224,157,136,121,110,84,86,80,73,69,68,62,52,55,44,38,37,44,42,29,36,25,20,23,22,18,16,22,23,15,12,8,6,11,6,9,10,4,2,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0))

pdf("band-hists.pdf", width=7.2, height=5.6)

par(mfrow=c(2,3))

plot(c(0,0.5), c(0,0.3), xlim=c(0,0.3), ylim=c(0,0.2), type="n",
    main="Band 1 (L5/L7) / Band 2 (L8)", xlab="Reflectance", ylab = "Frequency") # ylim=c(1e-5,1e-1), log='y')
lines(x, L5$band1/sum(L5$band1), col="#6aa84f", lwd=2)
lines(x, L7$band1/sum(L7$band1), col="#4a86e8", lwd=2)
lines(x, L8$band1/sum(L8$band1), col="#f79646", lwd=2)

plot(c(0,0.5), c(0,0.3), xlim=c(0,0.3), ylim=c(0,0.2), type="n",
    main="Band 2 (L5/L7) / Band 3 (L8)", xlab="Reflectance", ylab = "Frequency") # ylim=c(1e-5,1e-1), log='y')
lines(x, L5$band2/sum(L5$band2), col="#6aa84f", lwd=2)
lines(x, L7$band2/sum(L7$band2), col="#4a86e8", lwd=2)
lines(x, L8$band2/sum(L8$band2), col="#f79646", lwd=2)

plot(c(0,0.5), c(0,0.3), xlim=c(0,0.3), ylim=c(0,0.2), type="n",
    main="Band 3 (L5/L7) / Band 4 (L8)", xlab="Reflectance", ylab = "Frequency") # ylim=c(1e-5,1e-1), log='y')
lines(x, L5$band3/sum(L5$band3), col="#6aa84f", lwd=2)
lines(x, L7$band3/sum(L7$band3), col="#4a86e8", lwd=2)
lines(x, L8$band3/sum(L8$band3), col="#f79646", lwd=2)

plot(c(0,0.5), c(0,0.3), xlim=c(0,0.3), ylim=c(0,0.2), type="n",
    main="Band 4 (L5/L7) / Band 5 (L8)", xlab="Reflectance", ylab = "Frequency") # ylim=c(1e-5,1e-1), log='y')
lines(x, L5$band4/sum(L5$band4), col="#6aa84f", lwd=2)
lines(x, L7$band4/sum(L7$band4), col="#4a86e8", lwd=2)
lines(x, L8$band4/sum(L8$band4), col="#f79646", lwd=2)

plot(c(0,0.5), c(0,0.3), xlim=c(0,0.3), ylim=c(0,0.2), type="n",
    main="Band 5 (L5/L7) / Band 6 (L8)", xlab="Reflectance", ylab = "Frequency") # ylim=c(1e-5,1e-1), log='y')
lines(x, L5$band5/sum(L5$band5), col="#6aa84f", lwd=2)
lines(x, L7$band5/sum(L7$band5), col="#4a86e8", lwd=2)
lines(x, L8$band5/sum(L8$band5), col="#f79646", lwd=2)

plot(c(0,0.5), c(0,0.3), xlim=c(0,0.3), ylim=c(0,0.2), type="n",
    main="Band 7 (L5/L7) / Band 7 (L8)", xlab="Reflectance", ylab = "Frequency") # ylim=c(1e-5,1e-1), log='y')
lines(x, L5$band7/sum(L5$band7), col="#6aa84f", lwd=2)
lines(x, L7$band7/sum(L7$band7), col="#4a86e8", lwd=2)
lines(x, L8$band7/sum(L8$band7), col="#f79646", lwd=2)
legend("topright", legend=c("Landsat 5", "Landsat 7", "Landsat 8"), col=c("#6aa84f", "#4a86e8", "#f79646"), lwd=2)

dev.off()
